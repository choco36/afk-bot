<!DOCTYPE html>
<html lang="he" dir="rtl">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>AFK Console PRO</title>
  <script src="https://cdn.tailwindcss.com"></script>
</head>
<body class="bg-neutral-100 text-neutral-900 dark:bg-neutral-950 dark:text-neutral-100">
  <div class="max-w-4xl mx-auto p-4 space-y-4">
    <div class="p-4 rounded-xl border bg-white dark:bg-neutral-900">
      <div class="flex flex-col sm:flex-row gap-3 items-stretch">
        <div class="flex-1 flex items-center gap-2">
          <span id="lockDot" class="w-3 h-3 rounded-full bg-red-500 inline-block"></span>
          <span id="lockText" class="text-sm">מצב: נעול – צריך להזין טוקן</span>
        </div>
        <input id="token" class="px-3 py-2 rounded-lg border flex-1" placeholder="טוקן מנהל (ADMIN_TOKEN)">
        <button id="saveToken" class="px-4 py-2 rounded-lg bg-blue-600 text-white">שמירה</button>
        <button id="stopAll" class="px-4 py-2 rounded-lg bg-red-600 text-white">עצור הכל</button>
      </div>
      <p class="text-xs text-neutral-500 mt-2">שים את אותו ערך שהגדרת ב-Koyeb כ-ENV בשם ADMIN_TOKEN.</p>
    </div>

    <div class="p-4 rounded-xl border bg-white dark:bg-neutral-900">
      <h2 class="font-semibold mb-2">סשן חדש</h2>
      <form id="sessionForm" class="grid sm:grid-cols-2 gap-3">
        <input id="host" class="px-3 py-2 rounded border" placeholder="play.example.com" required/>
        <input id="port" type="number" value="25565" class="px-3 py-2 rounded border"/>
        <select id="auth" class="px-3 py-2 rounded border"><option value="microsoft">Microsoft (Online)</option><option value="offline">Offline</option></select>
        <input id="username" class="px-3 py-2 rounded border hidden" placeholder="שם משתמש (Offline)"/>
        <input id="joinCmd" class="px-3 py-2 rounded border sm:col-span-2" placeholder="/server survival"/>
        <input id="keepAliveCmd" class="px-3 py-2 rounded border sm:col-span-2" placeholder="/ping"/>
        <select id="afkMode" class="px-3 py-2 rounded border"><option value="jitter">Jitter</option><option value="circle">Circle</option><option value="strafe">Strafe</option><option value="walkabout">Walkabout</option></select>
        <input id="afkIntervalMs" type="number" value="60000" class="px-3 py-2 rounded border"/>
        <input id="reconnectDelayMs" type="number" value="10000" class="px-3 py-2 rounded border"/>
        <label class="flex items-center gap-2"><input id="autoReconnect" type="checkbox" checked/> Auto Reconnect</label>
        <button class="px-4 py-2 rounded bg-blue-600 text-white sm:col-span-2">התחל סשן</button>
      </form>
    </div>

    <div class="p-4 rounded-xl border bg-white dark:bg-neutral-900">
      <div class="flex items-center justify-between mb-2">
        <h2 class="font-semibold">סשנים פעילים</h2>
        <button id="refreshSessions" class="px-3 py-2 rounded border">רענן</button>
      </div>
      <div id="sessions" class="grid gap-3"></div>
    </div>

    <div class="p-4 rounded-xl border bg-white dark:bg-neutral-900">
      <h2 class="font-semibold mb-2">לוגים</h2>
      <select id="logSession" class="px-3 py-2 rounded border mb-2 w-full"></select>
      <pre id="logBox" class="p-3 rounded bg-neutral-100 dark:bg-neutral-950 border h-80 overflow-auto text-sm"></pre>
    </div>
  </div>
  <script src="./app.js" type="module"></script>
</body>
</html>
